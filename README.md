# ğŸš€ Nexora API - Smart Internal Dashboard for Modern Teams

<p align="center">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/express/express-original.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg" width="50" />
  <img src="https://avatars.githubusercontent.com/u/77690634?s=200&v=4" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/prisma/prisma-original.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/jest/jest-plain.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postman/postman-original.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/supabase/supabase-original.svg" width="50" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vercel/vercel-original.svg" width="50" />
</p>

#
Nexora API is a fast, scalable, and secure REST backend designed to power modern internal dashboards with ease. It prioritizes performance, security, and seamless integration to support the needs of teams and large-scale applications.

## ğŸš€ Key Features

- **Authentication & Authorization** â€” Secure login/register system using JWT with role-based access control.
- **Team Management** â€” Create and manage teams with flexible membership handling.
- **Project Management** â€” Organize projects within teams with deadline tracking.
- **Task Management** â€” Assign tasks, track progress, and manage priority levels.
- **Comment System** â€” Real-time collaboration on tasks through threaded comments.
- **Activity Logging** â€” Automatically track every user action for audit and transparency.
- **Notifications** â€” Receive updates for important events and changes.
- **Rate Limiting** â€” Protect the API from abuse and excessive requests.
- **File Upload** â€” Upload files/images using Supabase Storage with public URL integration.
- **Comprehensive Testing** â€” Includes unit and integration tests for reliability.

## ğŸ› ï¸ Tech Stack

- **Runtime**: Node.js
- **Framework**: Express.js
- **Database**: PostgreSQL
- **ORM**: Prisma
- **Authentication**: JWT + bcryptjs
- **Validation**: express-validator
- **Security**: Helmet, CORS, Rate Limiting
- **Testing**: Jest + Supertest
- **File Storage**: Supabase Storage
- **Development**: Nodemon

## ğŸ–¼ï¸ File Upload
This API supports file upload using Supabase Storage.

### How it works:
1. Client uploads image using `multipart/form-data`
2. Backend uploads file to Supabase Storage bucket
3. Public URL is generated by Supabase
4. Image URL is stored in PostgreSQL database

## ğŸ“‹ Prerequisites

- Node.js (v16 or higher)
- PostgreSQL
- npm or yarn

## âš¡ Quick Start

### 1. Clone Repository
```bash
git clone https://github.com/radenmasabdul/nexora-api.git
cd nexora-api
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Setup Environment

Create a `.env` file in the root directory:

```env
DATABASE_URL="your-database-url"
JWT_SECRET="your-super-secret-jwt-key"
PORT=your-port
SUPABASE_URL=your-supabase-project-url
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
```

### 4. Setup Database
```bash
# Generate Prisma client
npx prisma generate

# Run migrations
npx prisma migrate deploy

# (Optional) Seed the database
npx prisma db seed
```

### 5. Start Development Server
```bash
npm run dev
```

The server will run at http://localhost:3000

## ğŸ“ Struktur Proyek

```
nexora-api/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ index.js         # Vercel API handler
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/     # Business logic controllers
â”‚   â”‚   â”œâ”€â”€ auth/        # Authentication controllers
â”‚   â”‚   â”œâ”€â”€ user/        # User management
â”‚   â”‚   â”œâ”€â”€ team/        # Team management
â”‚   â”‚   â”œâ”€â”€ member/      # Team member management
â”‚   â”‚   â”œâ”€â”€ projects/    # Project management
â”‚   â”‚   â”œâ”€â”€ task/        # Task management
â”‚   â”‚   â”œâ”€â”€ comment/     # Comment system
â”‚   â”‚   â”œâ”€â”€ activity/    # Activity logging
â”‚   â”‚   â””â”€â”€ notification/ # Notification system
â”‚   â”œâ”€â”€ middlewares/     # Custom middlewares
â”‚   â”‚   â”œâ”€â”€ auth/        # Authentication & rate limiting
â”‚   â”‚   â””â”€â”€ role/        # Role-based access control
â”‚   â”œâ”€â”€ routes/          # API route definitions
â”‚   â”‚   â”œâ”€â”€ auth/        # Authentication routes
â”‚   â”‚   â”œâ”€â”€ user/        # User routes
â”‚   â”‚   â”œâ”€â”€ team/        # Team routes
â”‚   â”‚   â”œâ”€â”€ member/      # Member routes
â”‚   â”‚   â”œâ”€â”€ projects/    # Project routes
â”‚   â”‚   â”œâ”€â”€ task/        # Task routes
â”‚   â”‚   â”œâ”€â”€ comments/    # Comment routes
â”‚   â”‚   â”œâ”€â”€ activity/    # Activity routes
â”‚   â”‚   â”œâ”€â”€ notification/ # Notification routes
â”‚   â”‚   â””â”€â”€ index.js     # Main router
â”‚   â”œâ”€â”€ utils/           # Utility functions
â”‚   â”‚   â”œâ”€â”€ lib/         # Internal libraries or global utilities
â”‚   â”‚   â”œâ”€â”€ handlers/    # Async handlers
â”‚   â”‚   â”œâ”€â”€ helpers/     # Helper functions
â”‚   â”‚   â””â”€â”€ validators/  # Request validators
â”‚   â””â”€â”€ app.js           # Express app configuration
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ client/          # Prisma client
â”‚   â”œâ”€â”€ migrations/      # Database migrations
â”‚   â””â”€â”€ schema.prisma    # Database schema
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/            # Unit tests
â”‚   â””â”€â”€ integration/     # Integration tests
â”œâ”€â”€ index.js             # Application entry point
â”œâ”€â”€ prisma.config.ts     # Prisma configuration
â””â”€â”€ package.json         # Dependencies & scripts
```

## ğŸ”— API Endpoints

### Authentication
- `POST /auth/register` - Register a new user
- `POST /auth/login` - Log in a user
- `POST /auth/logout` - Log out a user

### Users
- `POST /users/create` - Create a new user
- `GET /users/all` - Get all users
- `GET /users/:id` - Get user by ID
- `PUT /users/update/:id` - Update users
- `DELETE /users/delete/:id` - Delete user

### Teams
- `POST /teams/create` - Create a new team
- `GET /teams/all` - Get all teams
- `GET /teams/:id` - Get team by ID
- `PUT /teams/update/:id` - Update teams
- `DELETE /teams/delete/:id` - Delete team

### Team Members
- `POST /members/create` - Add members to the team
- `GET /members/all` - Get all members
- `GET /members/:id` - Get members by ID
- `PUT /members/update/:id` - Update member roles
- `DELETE /members/delete/:id` - Remove member

### Projects
- `POST /projects/create` - Create a new project
- `GET /projects/all` - Get all projects
- `GET /projects/:id` - Get project by ID
- `PUT /projects/update/:id` - Update project
- `DELETE /projects/delete/:id` - Delete project

### Tasks
- `POST /tasks/create` - Create a new task
- `GET /tasks/all` - Get all tasks
- `GET /tasks/:id` - Get tasks by ID
- `PUT /tasks/update/:id` - Update tasks
- `DELETE /tasks/delete/:id` - Delete task

### Comments
- `POST /comments/create` - Add a new comment
- `GET /comments/all` - Get all comments
- `GET /comments/:id` - Get comments by ID
- `PUT /comments/update/:id` - Update comments
- `DELETE /comments/delete/:id` - Delete comment

### Activity Logs
- `POST /activities/create` - Add a new activity
- `GET /activities/all` - Get all activity logs
- `GET /activities/:id` - Get activity by ID
- `DELETE /activities/delete/:id` - Delete activity

### Notifications
- `POST /notifications/create` - Add a new notifications
- `GET /notifications/all` - Get all notifications
- `GET /notifications/:id` - Get notifications by ID
- `PATCH /notifications/:id` - Mark notification as read
- `DELETE notifications/delete/:id` - Delete notifications

### Dashboard
- `GET /dashboard/tasks/status` - Get task counts grouped by status
- `GET /dashboard/tasks/priority` - Get task counts grouped by priority levels
- `GET /dashboard/tasks/workload` - Get task workload per user or team
- `GET /dashboard/projects/progress` - Get project progress
- `GET /dashboard/activities/counts` - Get activity logs counts grouped by activity type
- `GET /dashboard/teams/teams` - Get summary information about teams

### Role
- `GET /users/roles/counts` - Get counts of users for each role

## ğŸ§ª Testing

```bash
# Run all tests
npm test

# Run tests in watch mode
npm run test:watch

# Run tests with coverage
npm run test:coverage
```

## ğŸ”’ Security Features

- **JWT Authentication**: Secure token-based authentication
- **Password Hashing**: bcryptjs to hash passwords
- **Rate Limiting**: Protection from brute force attacks
- **CORS**: Cross-origin resource sharing configuration
- **Helmet**: Security headers
- **Input Validation**: Comprehensive request validation

## ğŸ“Š Database Schema

### Core Entities
- **Users**: System users with role-based access
- **Teams**: Teams/workgroups
- **TeamMembers**: Many-to-many relationships between users and teams
- **Projects**: Projects owned by a team
- **Tasks**: Individual tasks within a project
- **Comments**: Comments on tasks
- **ActivityLog**: User activity log
- **Notifications**: Notification system

## ğŸš€ Deployments

### Production Setup
1. Set environment variables for production
2. Build and optimize the application
3. Set up the production database
4. Configure reverse proxy (nginx)
5. Set up SSL certificate

### Environment Variables
```env
NODE_ENV=production
DATABASE_URL=your_production_db_url
JWT_SECRET=your_production_jwt_secret
PORT=your-port
SUPABASE_URL=your-supabase-project-url
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
```

## ğŸ‘¨â€ğŸ’» Author

**radenmasabdul**
- GitHub: [@radenmasabdul](https://github.com/radenmasabdul)
# 
â­ Don't forget to give a star if this project helps!
